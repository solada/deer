<!-- pages/profile/profile.wxml -->
<view class="container">
  <!-- å·²ç™»å½•çŠ¶æ€ -->
  <view class="profile-content" wx:if="{{isLoggedIn}}">
    <!-- ç”¨æˆ·ä¿¡æ¯å¡ç‰‡ -->
    <view class="user-info card">
      <view class="user-header">
        <view class="avatar-large">
          {{userInfo.nickname ? userInfo.nickname.charAt(0) : userInfo.username.charAt(0)}}
        </view>
        <view class="user-details">
          <text class="user-name text-xl">{{userInfo.nickname || userInfo.username}}</text>
          <text class="user-email text-sm text-muted">{{userInfo.email}}</text>
        </view>
      </view>
    </view>

    <!-- åŠŸèƒ½èœå• -->
    <view class="menu-section">
      <view class="menu-item card" bindtap="goToMyPosts">
        <view class="menu-content">
          <text class="menu-icon">ğŸ“</text>
          <text class="menu-title text-base">æˆ‘çš„å¸–å­</text>
        </view>
        <text class="menu-arrow">></text>
      </view>

      <view class="menu-item card" bindtap="refreshData">
        <view class="menu-content">
          <text class="menu-icon">ğŸ”„</text>
          <text class="menu-title text-base">åˆ·æ–°æ•°æ®</text>
        </view>
        <text class="menu-arrow">></text>
      </view>
    </view>

    <!-- åº”ç”¨ä¿¡æ¯ -->
    <view class="app-info card">
      <view class="info-title text-base">åº”ç”¨ä¿¡æ¯</view>
      <view class="info-list">
        <view class="info-item">
          <text class="info-label text-sm text-muted">åº”ç”¨åç§°</text>
          <text class="info-value text-sm">é¹¿é¹¿è®ºå›</text>
        </view>
        <view class="info-item">
          <text class="info-label text-sm text-muted">ç‰ˆæœ¬å·</text>
          <text class="info-value text-sm">1.0.0</text>
        </view>
        <view class="info-item">
          <text class="info-label text-sm text-muted">æœåŠ¡å™¨</text>
          <text class="info-value text-sm">deerlulu1008.cn</text>
        </view>
      </view>
    </view>

    <!-- é€€å‡ºç™»å½• -->
    <view class="logout-section">
      <button class="btn btn-danger" bindtap="logout">
        é€€å‡ºç™»å½•
      </button>
    </view>
  </view>

  <!-- æœªç™»å½•çŠ¶æ€ -->
  <view class="login-prompt" wx:if="{{!isLoggedIn}}">
    <view class="empty">
      <view class="empty-icon">ğŸ‘¤</view>
      <text class="text-lg">æœªç™»å½•</text>
      <text class="text-sm text-muted mt-10">ç™»å½•åå¯æŸ¥çœ‹ä¸ªäººä¿¡æ¯</text>
      
      <view class="login-actions">
        <view class="btn btn-primary" bindtap="goToLogin">
          ç™»å½•
        </view>
        <view class="btn btn-secondary mt-20" bindtap="goToRegister">
          æ³¨å†Œè´¦å·
        </view>
      </view>
    </view>
  </view>
</view>
